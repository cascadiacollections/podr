{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "RushStack API Inliner Plugin Configuration",
  "description": "Schema for configuring the API Inliner Plugin for RushStack Heft",
  "type": "object",
  "properties": {
    "endpoints": {
      "description": "API endpoints to fetch data from during build",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "url": {
            "description": "The API endpoint URL to fetch data from",
            "type": "string"
          },
          "outputFile": {
            "description": "The filename to save the fetched data to (if saveAsFile is true)",
            "type": "string"
          },
          "fallbackData": {
            "description": "The fallback data to use if the API request fails or in development mode",
            "type": "object"
          },
          "inlineAsVariable": {
            "description": "Whether to inline data as window variable",
            "type": "boolean"
          },
          "variableName": {
            "description": "Name of the window variable to use when inlining",
            "type": "string"
          },
          "requestOptions": {
            "description": "Options to pass to the http/https request (headers, method, etc)",
            "type": "object"
          }
        },
        "required": ["url"]
      }
    },
    "production": {
      "description": "Whether to fetch data from API (production) or just use fallback (development)",
      "type": "boolean",
      "default": true
    },
    "inlineAsVariable": {
      "description": "Global setting for whether to inline data as window variables",
      "type": "boolean",
      "default": true
    },
    "variablePrefix": {
      "description": "Prefix for all window variables when auto-generating names",
      "type": "string",
      "default": "API_DATA"
    },
    "saveAsFile": {
      "description": "Whether to save data as static JSON files",
      "type": "boolean",
      "default": true
    },
    "requestTimeout": {
      "description": "Timeout in milliseconds for API requests",
      "type": "number",
      "default": 10000
    },
    "retryCount": {
      "description": "Number of times to retry a failed request",
      "type": "number",
      "default": 2
    },
    "outputPath": {
      "description": "Custom path to save JSON files to (relative to webpack output path)",
      "type": "string",
      "default": ""
    }
  },
  "required": ["endpoints"]
}